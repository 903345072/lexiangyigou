{"version":3,"sources":["webpack:///./src/views/activity/BargainRecord.vue?2279","webpack:///src/views/activity/BargainRecord.vue","webpack:///./src/views/activity/BargainRecord.vue?05bc","webpack:///./src/views/activity/BargainRecord.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","ref","staticClass","_l","item","index","key","attrs","src","image","_v","_s","title","is-day","tip-text","day-text","hour-text","minute-text","second-text","datatime","residue_price","status","on","click","$event","getBargainUserCancel","bargain_id","_e","goDetail","goList","loaded","loading","loadingList","staticRenderFns","BargainRecordvue_type_script_lang_js_","name","components","CountDown","Loading","props","data","bargain","page","limit","mounted","_this","getBargainUserList","$scroll","$refs","container","methods","id","$router","push","path","that","Object","activity","then","res","length","apply","catch","$dialog","error","msg","bargainId","success","activity_BargainRecordvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"h5/js/chunk-2d0b9196.fec4b12b.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"container\",staticClass:\"bargain-record\"},[_vm._l((_vm.bargain),function(item,index){return _c('div',{key:index,staticClass:\"item\"},[_c('div',{staticClass:\"picTxt acea-row row-between-wrapper\"},[_c('div',{staticClass:\"pictrue\"},[_c('img',{attrs:{\"src\":item.image}})]),_c('div',{staticClass:\"text acea-row row-column-around\"},[_c('div',{staticClass:\"line1\"},[_vm._v(_vm._s(item.title))]),_c('count-down',{attrs:{\"is-day\":true,\"tip-text\":'倒计时 ',\"day-text\":' 天 ',\"hour-text\":' 时 ',\"minute-text\":' 分 ',\"second-text\":' 秒',\"datatime\":item.datatime}}),_c('div',{staticClass:\"money font-color-red\"},[_vm._v(\"\\n          已砍至\"),_c('span',{staticClass:\"symbol\"},[_vm._v(\"￥\")]),_c('span',{staticClass:\"num\"},[_vm._v(_vm._s(item.residue_price))])])],1)]),_c('div',{staticClass:\"bottom acea-row row-between-wrapper\"},[(item.status === 1)?_c('div',{staticClass:\"purple\"},[_vm._v(\"活动进行中\")]):(item.status === 3)?_c('div',{staticClass:\"success\"},[_vm._v(\"砍价成功\")]):_c('div',{staticClass:\"end\"},[_vm._v(\"活动已结束\")]),_c('div',{staticClass:\"acea-row row-middle row-right\"},[(item.status === 1)?_c('div',{staticClass:\"bnt cancel\",on:{\"click\":function($event){return _vm.getBargainUserCancel(item.bargain_id)}}},[_vm._v(\"\\n          取消活动\\n        \")]):_vm._e(),(item.status === 1)?_c('div',{staticClass:\"bnt bg-color-red\",on:{\"click\":function($event){return _vm.goDetail(item.bargain_id)}}},[_vm._v(\"\\n          继续砍价\\n        \")]):_c('div',{staticClass:\"bnt bg-color-red\",on:{\"click\":_vm.goList}},[_vm._v(\"重开一个\")])])])])}),_c('Loading',{attrs:{\"loaded\":_vm.status,\"loading\":_vm.loadingList}})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"bargain-record\" ref=\"container\">\r\n    <div class=\"item\" v-for=\"(item, index) in bargain\" :key=\"index\">\r\n      <div class=\"picTxt acea-row row-between-wrapper\">\r\n        <div class=\"pictrue\"><img :src=\"item.image\" /></div>\r\n        <div class=\"text acea-row row-column-around\">\r\n          <div class=\"line1\">{{ item.title }}</div>\r\n          <count-down\r\n            :is-day=\"true\"\r\n            :tip-text=\"'倒计时 '\"\r\n            :day-text=\"' 天 '\"\r\n            :hour-text=\"' 时 '\"\r\n            :minute-text=\"' 分 '\"\r\n            :second-text=\"' 秒'\"\r\n            :datatime=\"item.datatime\"\r\n          ></count-down>\r\n          <div class=\"money font-color-red\">\r\n            已砍至<span class=\"symbol\">￥</span\r\n            ><span class=\"num\">{{ item.residue_price }}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"bottom acea-row row-between-wrapper\">\r\n        <div class=\"purple\" v-if=\"item.status === 1\">活动进行中</div>\r\n        <div class=\"success\" v-else-if=\"item.status === 3\">砍价成功</div>\r\n        <div class=\"end\" v-else>活动已结束</div>\r\n        <div class=\"acea-row row-middle row-right\">\r\n          <div\r\n            class=\"bnt cancel\"\r\n            v-if=\"item.status === 1\"\r\n            @click=\"getBargainUserCancel(item.bargain_id)\"\r\n          >\r\n            取消活动\r\n          </div>\r\n          <div\r\n            class=\"bnt bg-color-red\"\r\n            v-if=\"item.status === 1\"\r\n            @click=\"goDetail(item.bargain_id)\"\r\n          >\r\n            继续砍价\r\n          </div>\r\n          <div class=\"bnt bg-color-red\" v-else @click=\"goList\">重开一个</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <Loading :loaded=\"status\" :loading=\"loadingList\"></Loading>\r\n  </div>\r\n</template>\r\n<script>\r\nimport CountDown from \"@components/CountDown\";\r\nimport { getBargainUserList, getBargainUserCancel } from \"@api/activity\";\r\nimport Loading from \"@components/Loading\";\r\n\r\nexport default {\r\n  name: \"BargainRecord\",\r\n  components: {\r\n    CountDown,\r\n    Loading\r\n  },\r\n  props: {},\r\n  data: function() {\r\n    return {\r\n      bargain: [],\r\n      status: false, //砍价列表是否获取完成 false 未完成 true 完成\r\n      loadingList: false, //当前接口是否请求完成 false 完成 true 未完成\r\n      page: 1, //页码\r\n      limit: 20 //数量\r\n    };\r\n  },\r\n  mounted: function() {\r\n    this.getBargainUserList();\r\n    this.$scroll(this.$refs.container, () => {\r\n      !this.loadingList && this.getBargainUserList();\r\n    });\r\n  },\r\n  methods: {\r\n    goDetail: function(id) {\r\n      this.$router.push({\r\n        path: \"/activity/dargain_detail/\" + id + \"/0\"\r\n      });\r\n    },\r\n    goList: function() {\r\n      this.$router.push({\r\n        path: \"/activity/bargain\"\r\n      });\r\n    },\r\n    getBargainUserList: function() {\r\n      var that = this;\r\n      if (that.loadingList) return;\r\n      if (that.status) return;\r\n      getBargainUserList({ page: that.page, limit: that.limit })\r\n        .then(res => {\r\n          that.status = res.data.length < that.limit;\r\n          that.bargain.push.apply(that.bargain, res.data);\r\n          that.page++;\r\n          that.loadingList = false;\r\n        })\r\n        .catch(res => {\r\n          that.$dialog.error(res.msg);\r\n        });\r\n    },\r\n    getBargainUserCancel: function(bargainId) {\r\n      var that = this;\r\n      getBargainUserCancel({ bargainId: bargainId })\r\n        .then(res => {\r\n          that.$dialog.success(res.msg).then(() => {\r\n            that.status = false;\r\n            that.loadingList = false;\r\n            that.page = 1;\r\n            that.bargain = [];\r\n            that.getBargainUserList();\r\n          });\r\n        })\r\n        .catch(res => {\r\n          that.$dialog.error(res.msg);\r\n        });\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BargainRecord.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BargainRecord.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BargainRecord.vue?vue&type=template&id=371a88ca&\"\nimport script from \"./BargainRecord.vue?vue&type=script&lang=js&\"\nexport * from \"./BargainRecord.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}