(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0ad1be20"],{"06e4":function(t,e,s){},1191:function(t,e,s){},2267:function(t,e,s){t.exports=s.p+"h5/img/share-info.fa0bedf8.png"},"2f21":function(t,e,s){"use strict";var a=s("79e5");t.exports=function(t,e){return!!t&&a(function(){e?t.call(null,function(){},1):t.call(null)})}},"3ac7":function(t,e,s){t.exports=s.p+"h5/img/videos.5a8e6dc1.png"},"55dd":function(t,e,s){"use strict";var a=s("5ca1"),i=s("d8e8"),o=s("4bf8"),n=s("79e5"),r=[].sort,c=[1,2,3];a(a.P+a.F*(n(function(){c.sort(void 0)})||!n(function(){c.sort(null)})||!s("2f21")(r)),"Array",{sort:function(t){return void 0===t?r.call(o(this)):r.call(o(this),i(t))}})},"5f10":function(t,e,s){t.exports=s.p+"h5/img/noCoupon.e524084b.png"},"68d8":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALsAAADSCAMAAAAltUHKAAAC+lBMVEUAAAAAAACfFwOHaC1/YCV4WR6TdDmObzQsLCwsLCxgGRAsLCwCAgIvKiQDAgIfHx/2tywsLCwsLCwsLCwBAQEsLCwsLCzqqRz80B/6xiYsLCwsLCwsLCwsLCwCAgIEBAQBAQEsLCwAAABeRhixhzgBAQELBwYCAgLyyRz0xQgsLCz///8sKysqKikEBAQBAQEpKCcbGxsXFxcUFBQQEBALCwsICAgrKSgqJiYtLS0xMTEvLy8mJiYiIiIgICANDQ0GBgYpJSQ0NDT/xDg7Ozs2NjY4ODhBQUEkJCQeHh4dHR09PT3//f3/wdFAQEA6Ojr37Or++/tDQ0M/Pz/58O/9+fn89/b47uz36+n79vX79PP/ydb/+fucgD344Lr58fD/3ub/4ej/1uGCbj/68/L/6u/8+fj68vH36uj53a3+3AH/9fj/xkD548b9z2f+yU3XqDn8wjjzvDhiUCr/6QL90QD36uP46N3459n626H62JT80XNbUjn71hH98wP//fX35c/333D+x0X21TqlhTnnszg9Ozb+7Qjt7Oz99uv63bL714781IX9zFpMSEC3kjrInTmwjDj64jaZfjZGOStwWir93B375Bv85An9+AL//e3t7e3/0d3+99X97cn88bqkoqL11ltfV0H86z9qXD2SeTzDmjpyYTphVTl+aTY8Oi9yWiyXfCHovRXqyQ/91gP6+vr/7vP55tP4tMH98Zb55paUkpL803xpZmX64VP76kzQpDmGbjdXQStlWypzZiatkh3Xsxz98Rq3mBryxhjZvRTaoxDhsAz/+t382Nj8vMv44oOLdD53aT1eODyrjDtEQDiNczdKRTe8ljZSSS/zzSP76hvAoBPJpxH/4+rPzs7Ozc26ubn537b886z426v55qqnpaX62Zr715D76XZzcHByb2+2qE00LCiYbyaEcCR/YCN/ah20hAr9+ffu7u7779mlpKP5yZ77vZb5x3j93HRvalDyzkV8aj94ZjtvXjbNnyiugCKfjh/2Sal0AAAAK3RSTlMAdwNvb29vb+mvCPr4UyYEQNOHeF03HRgQCJiXE/jYvruVc15dRzo3J0MVrchIpQAACPRJREFUeNrsmklsElEYxw0nkBhtm1Zr9eBNfdPEW6d6gvNw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"},"7cd3":function(t,e,s){"use strict";var a=s("06e4"),i=s.n(a);i.a},"82f5":function(t,e,s){"use strict";var a=s("b841"),i=s.n(a);i.a},"8f99":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:[t.posterImageStatus?"noscroll product-con":"product-con"],nativeOn:{scroll:function(e){return t.onScroll(e)}}},[t._m(0),s("div",{staticClass:"comm-img"},[s("img",{attrs:{src:t.storeInfo.image,alt:""}})]),s("div",{staticClass:"baseInfo"},[s("div",{staticClass:"describe"},[s("h2",{staticStyle:{"font-family":"inherit","font-weight":"500","line-height":"1.1",color:"inherit"}},[t._v(t._s(t.storeInfo.store_name))])]),0==t.is_intergral_pro?s("div",{staticClass:"comm-detail"},[s("ul",[s("li",[s("p",[t._v("拼团价：\n              "),s("span",{staticClass:"univalent",staticStyle:{"font-size":".28rem",color:"#ad0006"}},[t._v("￥"+t._s(t.storeInfo.price))])])]),s("li",[s("p",[t._v("拼团条件：参与人数达到"+t._s(t.storeInfo.tuan_number)+"人")])])])]):t._e(),1==t.is_intergral_pro?s("div",{staticClass:"comm-detail"},[s("ul",[s("li",[s("p",[t._v("消耗积分：\n              "),s("span",{staticClass:"univalent",staticStyle:{"font-size":".28rem",color:"#ad0006"}},[t._v(t._s(t.storeInfo.intergral))])])])])]):t._e()]),s("div",{staticClass:"product-intro",attrs:{id:"title3"}},[s("div",{staticClass:"title"},[t._v("产品介绍")]),s("div",{staticClass:"conter",domProps:{innerHTML:t._s(t.storeInfo.description)}})]),s("div",{staticStyle:{height:"1.2rem"}}),0==t.is_intergral_pro?s("div",{staticClass:"footer acea-row row-between-wrapper",staticStyle:{padding:"0"}},[s("div",{staticClass:"bnt acea-row",staticStyle:{width:"100%",height:"1rem"}},[s("div",{staticClass:"buy",staticStyle:{"border-radius":"0","background-color":"#FAC503",width:"65%","line-height":"1rem"}},[t._v("\n          账户余额:"+t._s(t.user_info.now_money)+"\n        ")]),t.attr.productSelect.stock>0?s("div",{staticClass:"buy",staticStyle:{"border-radius":"0","background-color":"#FE6355",width:"35%","line-height":"1rem"},on:{click:t.tapBuy}},[t._v("\n          立即购买\n        ")]):s("div",{staticClass:"buy bg-color-hui"},[t._v("已售罄")])])]):t._e(),1==t.is_intergral_pro?s("div",{staticClass:"footer acea-row row-between-wrapper",staticStyle:{padding:"0"}},[s("div",{staticClass:"bnt acea-row",staticStyle:{width:"100%",height:"1rem"}},[s("div",{staticClass:"buy",staticStyle:{"border-radius":"0","background-color":"#FAC503",width:"65%","line-height":"1rem"}},[t._v("\n          账户积分:"+t._s(t.user_info.integral)+"\n        ")]),t.attr.productSelect.stock>0?s("div",{staticClass:"buy",staticStyle:{"border-radius":"0","background-color":"#FE6355",width:"35%","line-height":"1rem"},on:{click:t.tapBuy}},[t._v("\n          提交订单\n        ")]):s("div",{staticClass:"buy bg-color-hui"},[t._v("已售罄")])])]):t._e(),0!==t.priceName?s("Share-red-packets",{staticStyle:{display:"none"},attrs:{priceName:t.priceName},on:{changeFun:t.changeFun}}):t._e(),s("CouponPop",{attrs:{coupon:t.coupon},on:{changeFun:t.changeFun}}),s("Product-window",{attrs:{is_intergral_pro:t.is_intergral_pro,pro_intergral:t.pro_intergral,tuan_number:t.tuan_number,attr:t.attr},on:{changeFun:t.changeFun}}),s("StorePoster",{attrs:{posterImageStatus:t.posterImageStatus,posterData:t.posterData},on:{setPosterImageStatus:t.setPosterImageStatus}}),s("ShareInfo",{attrs:{shareInfoStatus:t.shareInfoStatus},on:{setShareInfoStatus:t.setShareInfoStatus}}),s("div",{staticClass:"generate-posters acea-row row-middle",class:t.posters?"on":""},[!0===t.weixinStatus?s("div",{staticClass:"item",on:{click:t.setShareInfoStatus}},[s("div",{staticClass:"iconfont icon-weixin3"}),s("div",{},[t._v("发送给朋友")])]):t._e(),s("div",{staticClass:"item",on:{click:t.setPosterImageStatus}},[s("div",{staticClass:"iconfont icon-haibao"}),s("div",{},[t._v("生成海报")])])]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.posters,expression:"posters"}],staticClass:"mask",on:{touchmove:function(t){t.preventDefault()},click:t.listenerActionClose}}),t.mapShow?s("div",{staticClass:"geoPage"},[s("iframe",{attrs:{width:"100%",height:"100%",frameborder:"0",scrolling:"no",src:"https://apis.map.qq.com/uri/v1/geocoder?coord="+t.system_store.latitude+","+t.system_store.longitude+"&referer="+t.mapKey}})]):t._e()],1)},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",{staticClass:"fix-head"},[s("img",{staticStyle:{float:"left",width:".4rem",height:".4rem","margin-left":"0.3rem","margin-top":"0.15rem"},attrs:{onclick:"javascript:history.go(-1)",src:"http://meida.vwbxyhj.cn//addons/sjlm_tg/template/mobile/images/Icon_left_arrow.png"}}),s("span",{staticStyle:{"margin-left":"-.4rem"}},[t._v("拼团详情")])])}],o=s("7618"),n=(s("55dd"),s("28a5"),s("7f7f"),s("7212")),r=(s("e5d0"),s("c5f8")),c=s("edc3"),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"sharing-packets",class:!0===t.state&&t.priceName?"on":""},[a("div",{staticClass:"iconfont icon-guanbi acea-row row-center-wrapper",on:{click:t.closeShare}}),a("div",{staticClass:"line"}),a("div",{staticClass:"sharing-con",on:{click:t.goShare}},[a("img",{staticClass:"image",attrs:{src:s("68d8")}}),a("div",{staticClass:"text font-color-red"},[a("div",[t._v("会员分享返")]),a("div",{staticClass:"money"},[a("span",{staticClass:"label"},[t._v("￥")]),t._v(t._s(t.priceName))]),a("div",{staticClass:"tip"},[t._v("下单即返佣金")]),a("div",{staticClass:"shareBut"},[t._v("立即分享")])])])])},u=[],d=(s("c5f6"),{name:"ShareRedPackets",props:{priceName:{type:[String,Number],default:""}},data:function(){return{state:!1}},mounted:function(){},methods:{goShare:function(){this.$emit("changeFun",{action:"shareCode",value:!1})},closeShare:function(){this.state=!0}}}),p=d,h=s("2877"),m=Object(h["a"])(p,l,u,!1,null,null,null),f=m.exports,v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"coupon-list-window",class:!0===t.coupon.coupon?"on":""},[a("div",{staticClass:"title"},[t._v("\n      优惠券"),a("span",{staticClass:"iconfont icon-guanbi",on:{click:t.close}})]),t.coupon.list.length>0?a("div",{staticClass:"coupon-list"},t._l(t.coupon.list,function(e,s){return a("div",{key:s,staticClass:"item acea-row row-center-wrapper",on:{click:function(a){return t.getCouponUser(s,e.id)}}},[a("div",{staticClass:"money",class:e.is_use?"moneyGray":""},[a("div",[t._v("\n            ￥"),a("span",{staticClass:"num"},[t._v(t._s(e.coupon_price))])]),a("div",{staticClass:"pic-num"},[t._v("满"+t._s(e.use_min_price)+"元可用")])]),a("div",{staticClass:"text"},[a("div",{staticClass:"condition line1"},[0===e.type?a("span",{staticClass:"line-title",class:e.is_use?"bg-color-huic":"bg-color-check"},[t._v("通用劵")]):1===e.type?a("span",{staticClass:"line-title",class:e.is_use?"bg-color-huic":"bg-color-check"},[t._v("品类券")]):a("span",{staticClass:"line-title",class:e.is_use?"bg-color-huic":"bg-color-check"},[t._v("商品券")]),a("span",[t._v(t._s(e.title))])]),a("div",{staticClass:"data acea-row row-between-wrapper"},[a("div",[t._v("\n              "+t._s(e.start_time?e.start_time+"-":"")+t._s(e.end_time)+"\n            ")]),a("div",{staticClass:"bnt acea-row row-center-wrapper",class:e.is_use?"gray":"bg-color-red"},[t._v("\n              "+t._s(e.is_use?"已领取":"立即领取")+"\n            ")])])])])}),0):a("div",{staticClass:"pictrue"},[a("img",{staticClass:"image",attrs:{src:s("5f10")}})])]),a("div",{staticClass:"mask",attrs:{hidden:!1===t.coupon.coupon},on:{touchmove:function(t){t.preventDefault()},click:t.close}})])},g=[],C=s("c24f"),S={name:"CouponPop",props:{coupon:{type:Object,default:function(){}}},data:function(){return{}},mounted:function(){},methods:{close:function(){this.$emit("changeFun",{action:"changecoupon",value:!1})},getCouponUser:function(t,e){var s=this,a=s.coupon.list;!0!==a[t].is_use&&Object(C["r"])(e).then(function(){s.$dialog.toast({mes:"已领取"}),s.$set(a[t],"is_use",!0),s.$emit("changefun",{action:"currentcoupon",value:t}),s.$emit("changeFun",{action:"changecoupon",value:!1})})}}},b=S,w=Object(h["a"])(b,v,g,!1,null,null,null),A=w.exports,y=s("c6da"),_=s("cbd6"),I=s("e834"),x=s("f7fe"),j=s.n(x),k=s("00fd"),D=s("73f5"),N=s("ed08"),P=s("74f9"),O=s("e876"),B=s("2f62"),T=s("d0a4"),L="GoodsCon",z="user_longitude",Q="user_latitude",E={name:L,components:{swiper:n["swiper"],swiperSlide:n["swiperSlide"],ProductConSwiper:r["a"],UserEvaluation:c["a"],ShareRedPackets:f,CouponPop:A,ProductWindow:y["a"],StorePoster:_["a"],ShareInfo:I["a"]},data:function(){return{tuan_number:0,shareInfoStatus:!1,weixinStatus:!1,mapShow:!1,mapKey:"",posterData:{image:"",title:"",price:"",code:""},posterImageStatus:!1,animated:!1,coupon:{coupon:!1,list:[]},attr:{cartAttr:!1,productAttr:[],productSelect:{}},isOpen:!1,productValue:[],id:0,storeInfo:{},couponList:[],attrTxt:"请选择",attrValue:"",cart_num:1,replyCount:"",replyChance:"",reply:[],priceName:0,CartCount:0,posters:!1,banner:[{},{}],swiperRecommend:{pagination:{el:".swiper-pagination",clickable:!0},autoplay:!1,loop:!1,speed:1e3,observer:!0,observeParents:!0},goodList:[],system_store:{},qqmapsdk:null,navList:[],lock:!1,navActive:0,opacity:0,storeSelfMention:!0,storeItems:{},activity:[],user_info:{},is_intergral_pro:0,pro_intergral:0}},computed:Object(B["b"])(["isLogin"]),watch:{$route:function(t){t.name===L&&(this.id=t.params.id,this.storeInfo.slider_image=[],this.productCon())}},updated:function(){},mounted:function(){this.id=this.$route.params.id,this.storeInfo.slider_image=[],this.productCon(),this.coupons(),this.getList()},methods:{goDetail:function(t){"1"===t.type?this.$router.push({path:"/activity/seckill_detail/"+t.id+"/"+t.time+"/1"}):"2"===t.type?this.$router.push({path:"/activity/dargain_detail/"+t.id}):this.$router.push({path:"/activity/group_detail/"+t.id})},getList:function(){var t=this,e={latitude:T["a"].get(Q)||"",longitude:T["a"].get(z)||"",page:1,limit:10};Object(D["q"])(e).then(function(e){t.storeItems=e.data.list[0]}).catch(function(t){console.log(t)})},handleScroll:function(){var t=document.body.scrollTop||document.documentElement.scrollTop,e=t/350;e=e>1?1:e,this.opacity=e},asideTap:function(t){var e=this;this.$nextTick(function(){var s=t;e.navActive=s,e.goodList.length||2!==s||(s=3);var a=document.querySelector("#title"+s),i=a.offsetTop-e.$refs.header.offsetHeight-window.scrollY;e.lock=!0,window.scrollBy({top:i,left:0,behavior:"smooth"})})},onScroll:j()(function(){var t=this;if(this.lock)this.lock=!1;else{var e=this.$refs.header.offsetHeight,s=window,a=s.scrollY,i=[];i.push(document.querySelector("#title0")),i.push(document.querySelector("#title1")),this.goodList.length&&i.push(document.querySelector("#title2")),i.push(document.querySelector("#title3")),i.reduce(function(s,i,o){if(document.querySelector("#title0")||document.querySelector("#title1")||document.querySelector("#title2"))return s||(a+e<i.offsetTop+i.offsetHeight&&(s=!0,t.navActive=o),s)},!1)}},500),showChang:function(){if(Object(N["d"])()){var t={latitude:parseFloat(this.storeItems.latitude),longitude:parseFloat(this.storeItems.longitude),name:this.storeItems.name,address:this.storeItems.address+this.system_store.detailed_address};Object(P["wechatEvevt"])("openLocation",t).then(function(t){console.log(t)}).catch(function(e){e.is_ready&&e.wx.openLocation(t)})}else{if(!this.mapKey)return this.$dialog.error("暂无法使用查看地图，请配置您的腾讯地图key");this.mapShow=!0}},updateTitle:function(){document.title=this.storeInfo.store_name||this.$route.meta.title},showStoreList:function(){this.$store.commit("GET_TO","details"),this.$router.push("/shop/storeList/details")},setOpenShare:function(){var t=this.storeInfo,e=location.href;if(Object(N["d"])())if(this.isLogin)Object(C["G"])().then(function(s){e=-1===e.indexOf("?")?e+"?spread="+s.data.uid:e+"&spread="+s.data.uid;var a={desc:t.store_info,title:t.store_name,link:e,imgUrl:t.image};Object(P["wechatEvevt"])(["updateAppMessageShareData","updateTimelineShareData"],a).then(function(t){console.log(t)}).catch(function(t){console.log(t),t.is_ready&&(t.wx.updateAppMessageShareData(a),t.wx.updateTimelineShareData(a))})});else{var s={desc:t.store_info,title:t.store_name,link:e,imgUrl:t.image};Object(P["wechatEvevt"])(["updateAppMessageShareData","updateTimelineShareData"],s).then(function(t){console.log(t)}).catch(function(t){t.is_ready&&(t.wx.updateAppMessageShareData(s),t.wx.updateTimelineShareData(s))})}},setShareInfoStatus:function(){this.shareInfoStatus=!this.shareInfoStatus,this.posters=!1},shareCode:function(t){var e=this;Object(D["g"])(e.id).then(function(s){s.data.code&&(e.posterData.code=s.data.code),!1===t&&e.listenerActionSheet()})},setPosterImageStatus:function(){var t=document.body||document.documentElement;t.scrollTop=0,this.posterImageStatus=!this.posterImageStatus,this.posters=!1},productCon:function(){var t=this,e=this;Object(D["h"])(e.id).then(function(s){"undefined"==typeof s.data.user&&t.$router.push({path:"/login"}),e.$set(e,"user_info",s.data.user),e.$set(e,"storeInfo",s.data.storeInfo),e.$set(e.attr,"productAttr",s.data.productAttr),e.$set(e,"tuan_number",s.data.storeInfo.tuan_number),e.$set(e,"is_intergral_pro",s.data.storeInfo.is_intergral_pro),e.$set(e,"pro_intergral",s.data.storeInfo.intergral),e.$set(e,"productValue",s.data.productValue),e.$set(e,"replyCount",s.data.replyCount),e.$set(e,"replyChance",s.data.replyChance),e.reply=s.data.reply?[s.data.reply]:[],e.$set(e,"reply",e.reply),e.$set(e,"priceName",s.data.priceName),e.posterData.image=e.storeInfo.image_base,e.activity=s.data.activity?s.data.activity:[],e.storeInfo.store_name.length>30?e.posterData.title=e.storeInfo.store_name.substring(0,30)+"...":e.posterData.title=e.storeInfo.store_name,e.storeSelfMention=!!s.data.store_self_mention,e.posterData.price=e.storeInfo.price,e.posterData.code=e.storeInfo.code_base,e.system_store=s.data.system_store||{};for(var a=s.data.good_list||[],i=[],o=Math.ceil(a.length/6),n=0;n<o;n++){var r=a.slice(6*n,6*n+6);r.length&&i.push({list:r})}e.mapKey=s.data.mapKey,e.$set(e,"goodList",i);var c=[];e.navList=c,e.updateTitle(),e.DefaultSelect(),e.getCartCount(),e.getImageBase64(),e.setOpenShare()}).catch(function(t){e.$dialog.error(t.msg),e.$router.go(-1)})},getImageBase64:function(){var t=this;Object(O["m"])(this.posterData.image,t.posterData.code).then(function(e){t.posterData.image=e.data.image,t.posterData.code=e.data.code,t.isLogin&&t.shareCode()}).catch(function(){t.isLogin&&t.shareCode()})},DefaultSelect:function(){var t=this.attr.productAttr,e=[];for(var s in this.productValue)if(this.productValue[s].stock>0){e=this.attr.productAttr.length?s.split(","):[];break}for(var a=0;a<t.length;a++)this.$set(t[a],"index",e[a]);var i=this.productValue[e.sort().join(",")];i&&t.length?(this.$set(this.attr.productSelect,"store_name",this.storeInfo.store_name),this.$set(this.attr.productSelect,"image",i.image),this.$set(this.attr.productSelect,"price",i.price),this.$set(this.attr.productSelect,"stock",i.stock),this.$set(this.attr.productSelect,"unique",i.unique),this.$set(this.attr.productSelect,"cart_num",1),this.$set(this,"attrValue",e.sort().join(",")),this.$set(this,"attrTxt","已选择")):!i&&t.length?(this.$set(this.attr.productSelect,"store_name",this.storeInfo.store_name),this.$set(this.attr.productSelect,"image",this.storeInfo.image),this.$set(this.attr.productSelect,"price",this.storeInfo.price),this.$set(this.attr.productSelect,"stock",0),this.$set(this.attr.productSelect,"unique",""),this.$set(this.attr.productSelect,"cart_num",0),this.$set(this,"attrValue",""),this.$set(this,"attrTxt","请选择")):i||t.length||(this.$set(this.attr.productSelect,"store_name",this.storeInfo.store_name),this.$set(this.attr.productSelect,"image",this.storeInfo.image),this.$set(this.attr.productSelect,"price",this.storeInfo.price),this.$set(this.attr.productSelect,"stock",this.storeInfo.stock),this.$set(this.attr.productSelect,"unique",this.storeInfo.unique||""),this.$set(this.attr.productSelect,"cart_num",1),this.$set(this,"attrValue",""),this.$set(this,"attrTxt","请选择"))},ChangeCartNum:function(t){var e=this.productValue[this.attrValue];if(void 0!==e||this.attr.productAttr.length||(e=this.attr.productSelect),void 0!==e){var s=e.stock||0,a=this.attr.productSelect;t?(a.cart_num++,a.cart_num>s&&(this.$set(this.attr.productSelect,"cart_num",s),this.$set(this,"cart_num",s))):(a.cart_num--,a.cart_num<1&&(this.$set(this.attr.productSelect,"cart_num",1),this.$set(this,"cart_num",1)))}},changeFun:function(t){"object"!==Object(o["a"])(t)&&(t={});var e=t.action||"",s=void 0===t.value?"":t.value;this[e]&&this[e](s)},couponTap:function(){var t=this;t.coupons(),t.coupon.coupon=!0},changecoupon:function(t){this.coupon.coupon=t,this.coupons()},currentcoupon:function(t){var e=this;e.coupon.coupon=!1,e.$set(e.coupon.list[t],"is_use",!0)},coupons:function(){var t=this,e={page:1,limit:20,type:1,product_id:t.id};Object(C["q"])(e).then(function(e){t.$set(t,"couponList",e.data||[]),t.$set(t.coupon,"list",e.data)})},selecAttrTap:function(){this.attr.cartAttr=!0,this.isOpen=!0},changeattr:function(t){this.attr.cartAttr=t,this.isOpen=!1},ChangeAttr:function(t){var e=this.productValue[t];e?(this.$set(this.attr.productSelect,"image",e.image),this.$set(this.attr.productSelect,"price",e.price),this.$set(this.attr.productSelect,"stock",e.stock),this.$set(this.attr.productSelect,"unique",e.unique),this.$set(this.attr.productSelect,"cart_num",1),this.$set(this,"attrValue",t),this.$set(this,"attrTxt","已选择")):(this.$set(this.attr.productSelect,"image",this.storeInfo.image),this.$set(this.attr.productSelect,"price",this.storeInfo.price),this.$set(this.attr.productSelect,"stock",0),this.$set(this.attr.productSelect,"unique",""),this.$set(this.attr.productSelect,"cart_num",0),this.$set(this,"attrValue",""),this.$set(this,"attrTxt","请选择"))},setCollect:function(){var t=this,e=t.storeInfo.id,s="product";t.storeInfo.userCollect?Object(C["n"])(e,s).then(function(){t.storeInfo.userCollect=!t.storeInfo.userCollect}):Object(C["m"])(e,s).then(function(){t.storeInfo.userCollect=!t.storeInfo.userCollect})},goGoods:function(t){var e=this;Object(k["c"])(t).then(function(){window.scroll(0,0),e.$router.push({path:"/detail/"+t.id})})},joinCart:function(){this.goCat(0)},goCat:function(t){var e=this,s=e.productValue[this.attrValue];if(e.attrValue?e.attr.cartAttr=!e.isOpen:e.isOpen?e.attr.cartAttr=!0:e.attr.cartAttr=!e.attr.cartAttr,!0===e.attr.cartAttr&&!1===e.isOpen)return e.isOpen=!0;if(!this.attr.productSelect.cart_num||parseInt(this.attr.productSelect.cart_num)<=0)return e.$dialog.toast({mes:"请输入购买数量"});if(e.attr.productAttr.length&&void 0===s&&!0===e.isOpen)return e.$dialog.toast({mes:"产品库存不足，请选择其它"});var a={productId:e.id,cartNum:e.attr.productSelect.cart_num,new:t,uniqueId:void 0!==e.attr.productSelect?e.attr.productSelect.unique:""};Object(D["m"])(a).then(function(s){e.isOpen=!1,e.attr.cartAttr=!1,t?e.$router.push({path:"/order/submit/"+s.data.cartId}):e.$dialog.toast({mes:"添加购物车成功",callback:function(){e.getCartCount(!0)}})}).catch(function(t){return e.isOpen=!1,e.$dialog.toast({mes:t.msg})})},getCartCount:function(t){var e=this,s=e.isLogin;s&&Object(D["b"])({numType:0}).then(function(s){e.CartCount=s.data.count,t&&(e.animated=!0,setTimeout(function(){e.animated=!1},500))})},tapBuy:function(){this.goCat(1)},listenerActionSheet:function(){!0===Object(N["d"])()&&(this.weixinStatus=!0),this.posters=!0},listenerActionClose:function(){this.posters=!1}},beforeDestroy:function(){document.removeEventListener("scroll",this.onScroll,!1),window.removeEventListener("scroll",this.handleScroll)}},R=E,Y=(s("d417"),Object(h["a"])(R,a,i,!1,null,"cc8c9e06",null));e["default"]=Y.exports},a1e9:function(t,e,s){"use strict";var a=s("add6"),i=s.n(a);i.a},acb3:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAABLCAYAAAAPgLXeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDoxMmU5NDE3MS1jZGVmLWZjNDgtOTgwOS00ODlmMTQ2YTIwNzgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6Qjg4MEU5RkZGOTA5MTFFOEIwNkM4N0JBODI3MDBBRkMiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6Qjg4MEU5RkVGOTA5MTFFOEIwNkM4N0JBODI3MDBBRkMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTggKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6ODQyM2UwYzQtNTFiNi01MjRiLTk5ZGItM2I2YjMxMjMyZDQzIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjEyZTk0MTcxLWNkZWYtZmM0OC05ODA5LTQ4OWYxNDZhMjA3OCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pj8UPccAAARySURBVHja7JlXaFRBFIb3JhHbGiM2LKCosYEYe0ui0YhGBCsi0YgVRAIi6IMN8UFEQWwvIgoaFPXJgL6oJDYUEdEIQWKJDQvGGCwxajRe/wPnysl1Nzv37uxuhDnwsbtTzvw7M3fKuVZAo9m2nYqP/iANBDn5M6gBjyzLqtPVlhWl0E74mA1yQSboEaHKU3ANXALn8Ee+BOJpEDwJnAU/bf/2FRSBjJj3OBoZgY89YKIrqwyUgLugAlSBWs5L5ZGgKTQKTOXv0orBeoxApe4ebgUOgAbRY2/BFtDbh7/BYDf4KPx9B5tBsi7R6aBMNFAD1oCWGny3B1tBnfBfArpE63g0eC+cnuQHUveI9galop0noK9fZ2P5ASKrB6ti/MAng+1C/GvP4lFhEKhmBzSM0+K4Yi0TzxL1fFfVikFQIXo6NxBnY/FyzierVDomKhUEEmRoe5vQsSVS4RxR+EgggYb2k8BFsVSmN1WwXDwY7QIJNmjoJRaI8+EKzRO9nR9oJsabkmPDQhW4xZkPqPcVHNK0OgT6+BAzHBwGQxQXixrWdirU8ufYCsXGb3L5V6CfB9FjwCeue0Kxzk4u/412W5mxXWSkKjpbINZbJfEu0bQ/TFBsa4Do2CUy4wYnFnsc8kWq4kOInuyxrfJGo4QvbcAvTlzrY75GFB+taPaxj+u/dBIyxDCM8fnkhxWvQzT7yRc6U5256liHKJatf8TrEu1cYoTOkZRQyD9qNay5UnwV+KJDNPvuKoTnpYjbeNTCcfWi8zp9LQKdOfk7mIm80ijdS31B2mick1eDps3uCfjhavClBr9SX3KS+CdBDVOFHu6LoDWopyRAN6YrXjapMCb11ZLwauc2DudtNYimDewbyAN0LP7Nt/xoxXcT32uc5Sr8Icb7Nt7oQfSySUVoQx4CO1FCmkhYqVO0TvGos4PrV8vE+14OPX42l2jFi9NrsUzcy4kfVOMlHLrwtLmEEN9Xsa1uol6hzBgnpstcRWfX/WwuLvHHFets4PJUr7s78zFnXlV0tpKHb5KP+UrHjNtghkLZFDpYsbYLoQqsFr2e04yubsuFrunhAptvuAA9rCnNQDTFFt+xptuR5p9jm5qB8KNCz/imClocObL5cpGdQNEFnmI89NTykdTmSO3ABIjO5vuvzeHAoGrFKRw3dNbbAXEUnSn2B/oc7NXBQjFU1PNZcRA9XwT563y3yeLrxZzfGIvVBj5bg/2ioz752R/cTnNFrNzm1ypZmgTTYjAHPBP+K8FQXT3SE1x2ve6j8/Us0MKHPwqJLAb3XD5PN4pUaeydJfy2zXbNf4qpL6VYYKhDGl1Q6KzPu/MZcYl27HHIXTEG87GQhzSUNXCQ8jl44Xol6Lb7vOmlxHOttXjpOijCY5GM/tQdsMvvG+W/EQWNf6QjPgYBenNAgaU9nLUOfAAPQYVlWZ91tGdxHCQmg6K7c6QlBf5TM8KNcCPcCDfCjXAj3Ag3wo1wI9wIN8KNcCPcCDfCjXAjPKb2R4ABAP1fyHzQ0oCyAAAAAElFTkSuQmCC"},add6:function(t,e,s){},b841:function(t,e,s){},c0f6:function(t,e,s){"use strict";var a=s("ff26"),i=s.n(a);i.a},c5f8:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"slider-banner product-bg"},[t.imgUrls.length>0?a("swiper",{ref:"mySwiper",staticClass:"swiper-wrapper",attrs:{options:t.ProductConSwiper}},t._l(t.imgUrls,function(e,i){return a("swiperSlide",{key:i,ref:"goodSwiper",refInFor:!0,staticClass:"swiper-slide"},[a("div",{staticClass:"slide-image",style:{background:"url("+e+") no-repeat center center","background-size":"100% 100%"}},[t.videolines&&0===i?a("img",{staticClass:"video_play",attrs:{src:s("3ac7")}}):t._e()])])}),1):t._e(),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isOnPlay,expression:"isOnPlay"}],staticClass:"videoBox"},[a("video",{ref:"videoIds",staticClass:"video-source",staticStyle:{width:"100%","object-fit":"fill"},attrs:{poster:t.imgUrls[0],loop:"",controls:"",preload:"auto","x-webkit-airplay":"true","x5-video-player-fullscreen":"true","x5-video-orientation":"portraint","x5-video-player-type":"",src:t.videolines},on:{pause:t.endVideo}},[t._v("\n      您的浏览器可能不支持视频播放\n    ")])]),a("div",{staticClass:"pages"},[t._v(t._s(t.currents||1)+"/"+t._s(t.imgUrls.length||1))])],1)},i=[],o=s("7212"),n=(s("e5d0"),null),r={name:"ProductConSwiper",components:{swiper:o["swiper"],swiperSlide:o["swiperSlide"]},props:{imgUrls:{type:Array,default:function(){return[]}},videoline:{type:String,default:function(){return""}}},watch:{videoline:{handler:function(t){this.videolines=t},deep:!0}},data:function(){var t=this;return{videolines:this.videoline,mobile:"",isOnPlay:!1,currents:1,ProductConSwiper:{loop:!0,speed:1e3,observer:!0,observeParents:!0,on:{slideChangeTransitionStart:function(){if(t.currents=this.realIndex+1,"iPhone"===t.mobile){var e=t.$refs.videoIds;e.pause()}},tap:function(){var t=this.realIndex;0===t&&n.videoPlay()}}}}},mounted:function(){},created:function(){n=this,-1!==navigator.platform.indexOf("Win")&&(this.mobile="iPhone")},methods:{endVideo:function(){this.isOnPlay=!1;var t=this.$refs.videoIds;t.pause()},videoPlay:function(){if(this.videolines){this.isOnPlay=!0;var t=this.$refs.videoIds;t.play()}}}},c=r,l=(s("7cd3"),s("2877")),u=Object(l["a"])(c,a,i,!1,null,"7968dfe8",null);e["a"]=u.exports},c6da:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"product-window",class:!0===t.attr.cartAttr?"on":"",style:"padding-bottom:"+(t.isShowBtn?"0":"")},[s("div",{staticClass:"textpic acea-row row-between-wrapper"},[s("div",{staticClass:"pictrue"},[s("img",{staticClass:"image",attrs:{src:t.attr.productSelect.image}})]),s("div",{staticClass:"text"},[s("div",{staticClass:"line1"},[t._v("\n          "+t._s(t.attr.productSelect.store_name)+"\n        ")]),0==t.is_intergral_pro?s("div",{staticClass:"money font-color-red",staticStyle:{"margin-top":"0.1rem","margin-bottom":"0.2rem"}},[t._v("\n          ￥"),s("span",{staticClass:"num"},[t._v(t._s(t.attr.productSelect.price))])]):t._e(),1==t.is_intergral_pro?s("div",{staticClass:"money font-color-red",staticStyle:{"margin-top":"0.1rem","margin-bottom":"0.2rem"}},[s("span",{staticClass:"num"},[t._v(t._s(t.pro_intergral)+"积分")])]):t._e(),0==t.is_intergral_pro?s("div",{staticClass:"line1"},[s("div",{staticClass:"stock",staticStyle:{display:"flex","justify-content":"space-between"}},[s("span",[t._v("团购类型:")]),s("span",[t._v(t._s(t.tuan_number)+"人团")])])]):t._e()]),s("div",{staticClass:"iconfont icon-guanbi",on:{click:t.closeAttr}})]),s("div",{staticClass:"productWinList"},t._l(t.attr.productAttr,function(e,a){return s("div",{key:a,staticClass:"item"},[s("div",{staticClass:"title"},[t._v(t._s(e.attr_name))]),s("div",{staticClass:"listn acea-row row-middle"},t._l(e.attr_value,function(i,o){return s("div",{key:o,staticClass:"itemn",class:e.index===i.attr?"on":"",on:{click:function(e){return t.tapAttr(a,i.attr)}}},[t._v("\n            "+t._s(i.attr)+"\n          ")])}),0)])}),0),s("div",{staticClass:"cart"},[s("div",{staticClass:"title"},[t._v("数量")]),s("div",{staticClass:"carnum acea-row row-left"},[s("div",{staticClass:"item reduce",class:t.attr.productSelect.cart_num<=1?"on":"",on:{click:t.CartNumDes}},[t._v("\n          -\n        ")]),s("div",{staticClass:"item num"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.attr.productSelect.cart_num,expression:"attr.productSelect.cart_num"}],staticClass:"ipt_num",attrs:{type:"number"},domProps:{value:t.attr.productSelect.cart_num},on:{input:function(e){e.target.composing||t.$set(t.attr.productSelect,"cart_num",e.target.value)}}})]),s("div",{staticClass:"item plus",class:t.attr.productSelect.cart_num>=t.attr.productSelect.stock?"on":"",on:{click:t.CartNumAdd}},[t._v("\n          +\n        ")])])]),t.isShowBtn?s("div",{staticClass:"wrapper"},[t.attr.productSelect.quota>0&&t.attr.productSelect.product_stock>0?s("div",{staticClass:"teamBnt bg-color-red",on:{click:t.openAlone}},[t._v("\n        立即参团\n      ")]):s("div",{staticClass:"teamBnt bg-color-hui"},[t._v("已售磬")])]):t._e()]),s("div",{staticClass:"mask",attrs:{hidden:!1===t.attr.cartAttr},on:{touchmove:function(t){t.preventDefault()},click:t.closeAttr}})])},i=[],o=(s("55dd"),{name:"ProductWindow",props:{pro_intergral:{type:Object,default:function(){}},is_intergral_pro:{type:Object,default:function(){}},tuan_number:{type:Object,default:function(){}},attr:{type:Object,default:function(){}}},data:function(){return{}},computed:{isShow:function(){return 1===this.$route.path.indexOf("detail")},isShowBtn:function(){return-1!=this.$route.path.indexOf("group_rule")}},mounted:function(){},methods:{openAlone:function(){this.$emit("changeFun",{action:"goPay",value:!1})},closeAttr:function(){this.$emit("changeFun",{action:"changeattr",value:!1})},CartNumDes:function(){this.$emit("changeFun",{action:"ChangeCartNum",value:!1})},CartNumAdd:function(){this.$emit("changeFun",{action:"ChangeCartNum",value:1})},tapAttr:function(t,e){var s=this;s.attr.productAttr[t].index=e;var a=s.getCheckedValue().sort().join(",");s.$emit("changeFun",{action:"ChangeAttr",value:a})},getCheckedValue:function(){for(var t=this.attr.productAttr,e=[],s=0;s<t.length;s++)for(var a=0;a<t[s].attr_value.length;a++)t[s].index===t[s].attr_value[a].attr&&e.push(t[s].attr_value[a].attr);return e}}}),n=o,r=(s("82f5"),s("2877")),c=Object(r["a"])(n,a,i,!1,null,"0f7341f8",null);e["a"]=c.exports},cbd6:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.posterImageStatus?a("div",{staticClass:"poster-first"},[a("div",{directives:[{name:"show",rawName:"v-show",value:!t.canvasStatus&&t.posterImage,expression:"!canvasStatus && posterImage"}],staticClass:"poster-pop"},[a("img",{staticClass:"close",attrs:{src:s("acb3")},on:{click:t.posterImageClose}}),a("img",{ref:"conf0",staticClass:"poster-image",attrs:{src:t.posterImage,alt:"tp",id:"scream"}}),a("div",{staticClass:"keep"},[t._v("长按图片可以保存到手机")])]),a("div",{staticClass:"mask",on:{touchmove:function(t){t.preventDefault()},click:t.posterImageClose}},[a("div",{staticClass:"canvasBox"},[a("canvas",{ref:"myCanvas"})])])]):t._e()},i=[],o={name:"StorePoster",props:{posterImageStatus:Boolean,posterData:Object},data:function(){return{canvasStatus:!1,posterImage:""}},watch:{posterImageStatus:function(){var t=this;!0===t.posterImageStatus&&t.$nextTick(function(){t.savePosterPath()})}},mounted:function(){},methods:{posterImageClose:function(){this.posterImageStatus=!1,this.canvasStatus=!1,this.$emit("setPosterImageStatus")},savePosterPath:function(){this.$dialog.loading.open(),this.setHtml2Canvas()},setHtml2Canvas:function(){var t=this,e=this.$refs.myCanvas,s=e.getContext("2d"),a=document.body.clientHeight,i=window.innerWidth,o=window.devicePixelRatio||1,n=s.webkitBackingStorePixelRatio||s.mozBackingStorePixelRatio||s.msBackingStorePixelRatio||s.oBackingStorePixelRatio||s.backingStorePixelRatio||1,r=o/n;e.width=i*r,e.height=a*r,e.style.width=i+"px",e.style.height=a+"px",s.scale(r,r);for(var c=s.getImageData(0,0,e.width,e.height),l=0;l<c.data.length;l+=4)0==c.data[l+3]&&(c.data[l]=255,c.data[l+1]=255,c.data[l+2]=255,c.data[l+3]=255);s.putImageData(c,0,0);var u=new Image,d=i-50;u.onload=function(){s.drawImage(u,0,0,i,d)},u.src=this.posterData.image,s.font="22px PingFang-SC-Medium",s.fillStyle="#282828";var p=this.posterData.title,h=d+30,m=s.measureText(p).width;this.canvasTextAutoLine(p,e,20,h,35,i-20,2),s.font="32px PingFang-SC-Heavy",s.fillStyle="#DF2D0A";var f=0;f=m<i-20?h+55:h+85,s.textAlign="center",s.fillText("￥"+this.posterData.price,i/2,f);var v=new Image,g=f+20;v.onload=function(){s.drawImage(v,10,g,115,115)},v.src=this.posterData.code,s.font="18px Arial",s.fillStyle="#282828",s.textAlign="left";var C=g+57.5;s.fillText("长按识别二维码 立即购买",135,C+10),setTimeout(function(){t.posterImage=e.toDataURL(),t.$dialog.loading.close()},500)},canvasTextAutoLine:function(t,e,s,a,i,o,n){for(var r=e.getContext("2d"),c=0,l=0,u=i,d=a,p=0;p<t.length;p++){if(c+=r.measureText(t[p]).width,c>o-s){if(a>=d+u*(n-1))return void r.fillText(t.substring(l,p-1)+"...",s,a);r.fillText(t.substring(l,p),s,a),a+=i,c=0,l=p}p==t.length-1&&r.fillText(t.substring(l,p+1),s,a)}}}},n=o,r=(s("a1e9"),s("2877")),c=Object(r["a"])(n,a,i,!1,null,"16849985",null);e["a"]=c.exports},d417:function(t,e,s){"use strict";var a=s("1191"),i=s.n(a);i.a},e834:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.shareInfoStatus?a("div",{staticClass:"poster-first"},[a("div",{staticClass:"mask-share"},[a("img",{attrs:{src:s("2267")},on:{click:t.shareInfoClose}})])]):t._e()},i=[],o={name:"ShareInfo",props:{shareInfoStatus:Boolean},data:function(){return{}},mounted:function(){},methods:{shareInfoClose:function(){this.$emit("setShareInfoStatus")}}},n=o,r=(s("c0f6"),s("2877")),c=Object(r["a"])(n,a,i,!1,null,"f3067a28",null);e["a"]=c.exports},ff26:function(t,e,s){}}]);
//# sourceMappingURL=chunk-0ad1be20.6f26e943.js.map